<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/accordion.css">
</head>
<body>
    <%- include('../includes/nav.ejs') %>
    <main class="liste">
        <div class="liste-content">
            <h1>Ma liste d'envies! üòé</h1>
            <section class="accordion-container">
                <% for (let activite of activites) { %>
                    <button id="<%= activite._id %>" class="accordion"><h2><%= activite.activity %></h2></button>
                        <article id="panel-<%= activite._id %>" class="panel">
                            <p>
                                Accessibility: <strong><%= activite.accessibility %></strong>
                            </p>
                            <p>
                                Type of the activity: <strong><%= activite.type %></strong>
                            </p>
                            <p>
                                Participants: <strong><%= activite.participants %></strong>
                            </p>
                            <p>
                                Price: <strong><%= activite.price %> </strong>
                            </p>
                            <p>
                                <%= activite.link %>
                            </p>
                            <p id="comment-<%= activite._id %>">
                                <% if(activite.commentaire) { %>
                                    Commentaire: <%= activite.commentaire %>
                                <% } %>    
                            </p>
                            <div class="panel-buttons">
                                <input type="hidden" value="<%= activite._id %>" name="activiteId">
                                <button type="button" onclick="deleteActivite(this)">DELETE</button>                         
                                <!-- Trigger/Open The Modal -->
                                <button id="myBtn-<%= activite._id %>" onclick="openModal(this)">Add / Edit Comment</button>

                                <!-- The Modal -->
                                <div id="myModal-<%= activite._id %>" class="modal">

                                    <!-- Modal content -->
                                    <div class="modal-content">
                                        <span class="close">‚ùå</span>
                                        <p>Add / Edit your comment:</p>
                                        <textarea name="" id="textarea-<%= activite._id %>" cols="30" rows="10"></textarea>
                                        <button style="display: block;" onclick="editComment(this)">Add / Edit</button>
                                    </div>

                                </div>
                            </div>
                        </article>
                <% } %>        
            </section>
        </div>
        <section class="activites-info">
            <p>Accessibility: A factor describing how possible an event is to do with zero being the most accessible [0.0, 1.0] </p>
            <p>Type: Type of the activity, ["education", "recreational", "social", "diy", "charity", "cooking", "relaxation", "music", "busywork"] </p>
            <p>Participants: The number of people that this activity could involve [0, n]</p>
            <p>Price: A factor describing the cost of the event with zero being free [0, 1]</p>
        </section>
    </main>
    <script src="/js/modales.js"></script>
    <script src="/js/utilisateur.js"></script>
    <script src="/js/accordion.js"></script>
    <%- include('../includes/end.ejs') %>